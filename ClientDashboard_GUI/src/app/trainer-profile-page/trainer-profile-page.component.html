@if (this.isLoading) {
    <app-spinner></app-spinner>
}
@else {
    <div class="profile-container">
    <p-toast />
    
    <div class="card">
        <div class="card-header">
            <h2 class="text-2xl font-bold mb-4">
                Trainer Profile
            </h2>
        </div>

      <form [formGroup]="profileForm" (ngSubmit)="saveProfile()">
        <div class="card-content">
            <div class="grid">
                <div class="field-group">
                    <label for="firstName">First Name</label>
                    <input pInputText id="firstName" formControlName="firstName" />
                    <small *ngIf="profileForm.get('firstName')?.invalid && profileForm.get('firstName')?.touched" 
                          class="p-error">
                        First name is required
                    </small>
                </div>

                <div class="field-group">
                    <label for="surname">Surname</label>
                    <input pInputText id="surname" formControlName="surname" />
                </div>

                <div class="field-group">
                    <label for="email">Email</label>
                    <input pInputText id="email" formControlName="email" />
                </div>

                <div class="field-group">
                    <label for="phoneNumber">Phone Number</label>
                    <input pInputText id="phoneNumber" formControlName="phoneNumber" />
                </div>

                <div class="field-group">
                    <label for="businessName">Business Name</label>
                    <input pInputText id="businessName" formControlName="businessName">
                </div>
                
                <div class="field-group">
                    <label for="defaultCurrency">Default Currency</label>
                    <p-dropdown 
                        id="defaultCurrency"
                        formControlName="defaultCurrency"
                        name="defaultCurrency"
                        [options]="currencies"
                        optionLabel="name"
                        optionValue="code"
                        placeholder="Select currency"
                        [showClear]="true">
                    </p-dropdown>
                </div>
                
                <div class="field-group">
                    <label for="averageSessionPrice">Average Session Price</label>
                    <p-inputNumber 
                        id="averageSessionPrice"
                        formControlName= "averageSessionPrice"
                        name="averageSessionPrice"
                        mode="currency"
                        [currency]="profileForm.get('defaultCurrency')?.value || 'GBP'"
                        placeholder="Enter session price">
                    </p-inputNumber>
                </div>
            </div>
            

            <div class="button-group">
                <p-button 
                    label="Reset" 
                    severity="secondary" 
                    icon="pi pi-refresh"
                    styleClass="reset-btn"
                    (onClick)="resetProfile()">
                </p-button>

                <p-button 
                    label="Save" 
                    severity="success" 
                    icon="pi pi-check"
                    styleClass="save-btn"
                    type="submit">
                </p-button>
            </div>
        </div>
    </form>
        
  </div>
    
</div>
}


